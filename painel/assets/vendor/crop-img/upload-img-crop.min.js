function bytesToSize(e){if(0==e)return"n/a";var r=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return(e/Math.pow(1024,r)).toFixed(1)+" "+["Bytes","KB","MB"][r]}function checkForm(){return!!parseInt($("#h").val())||($("#selecionar-area").html('<div class="alert alert-warning text-left" role="alert"><strong>ERRO: </strong>Selecione a área da imagem antes de enviar</div>').show(),!1)}function updateInfo(e){$("#x1").val(e.x),$("#y1").val(e.y),$("#x2").val(e.x2),$("#y2").val(e.y2),$("#w").val(e.w),$("#h").val(e.h)}function clearInfo(){$(".info #w").val(""),$(".info #h").val("")}function fileSelectHandlerDicasPrincipal(){var i=$("#image_file")[0].files[0];$("#image_file").hide(),$(".error").hide();if(!/^(image\/jpeg|image\/png)$/i.test(i.type))return $(".error").html("<strong>ERRO: </strong>Selecione um tipo válido de imagem: png ou jpg/jpeg").show(),$("#image_file").show(),!1;if(2048e3<i.size)return $(".error").html("<strong>ERRO: </strong> O arquivo é grande demais o máximo permitido é: <strong>2 mb</strong>").show(),$("#image_file").show(),!1;var t=document.getElementById("preview"),e=new FileReader;e.onload=function(e){t.src=e.target.result,t.onload=function(){if(740<t.naturalWidth||740<t.naturalHeight)return $(".error").html("As dimenções do arquivo devem ser <strong>700x700 (px)</strong> no máximo.<br>As dimenções fornecidas foram: <strong>"+t.naturalWidth+"x"+t.naturalHeight+" (px)</strong>").show(),$("#preview").hide(),$("#image_file").show(),!1;if(t.naturalWidth<320||t.naturalHeight<240)return $(".error").html("As dimenções do arquivo devem ser <strong>320x240 (px)</strong> no mínimo.<br>As dimenções fornecidas foram: <strong>"+t.naturalWidth+"x"+t.naturalHeight+" (px)</strong>").show(),$("#preview").hide(),$("#image_file").show(),!1;console.log(0),$(".step2").fadeIn(500),$(".alert-erro").hide();var r,e=bytesToSize(i.size);$("#filesize").val(e),$("#filetype").val(i.type),$("#filedim").val(t.naturalWidth+" x "+t.naturalHeight),void 0!==r&&r.destroy(),$("#preview").Jcrop({minSize:[10,10],aspectRatio:26/9,bgFade:!0,bgOpacity:.5,onChange:updateInfo,onSelect:updateInfo,onRelease:clearInfo},function(){var e=this.getBounds();e[0],e[1],r=this})}},e.readAsDataURL(i)}function fileSelectHandler(){var i=$("#image_file")[0].files[0];$("#image_file").hide(),$(".error").hide();if(!/^(image\/jpeg|image\/png)$/i.test(i.type))return $(".error").html("<strong>ERRO: </strong>Selecione um tipo válido de imagem: png ou jpg/jpeg").show(),$("#image_file").show(),!1;if(2048e3<i.size)return $(".error").html("<strong>ERRO: </strong> O arquivo é grande demais o máximo permitido é: <strong>2 mb</strong>").show(),$("#image_file").show(),!1;var t=document.getElementById("preview"),e=new FileReader;e.onload=function(e){t.src=e.target.result,t.onload=function(){if(800<t.naturalWidth||800<t.naturalHeight)return $(".error").html("As dimenções do arquivo devem ser <strong>800x800 (px)</strong> no máximo.<br>As dimenções fornecidas foram: <strong>"+t.naturalWidth+"x"+t.naturalHeight+" (px)</strong>").show(),$("#preview").hide(),$("#image_file").show(),!1;if(t.naturalWidth<320||t.naturalHeight<240)return $(".error").html("As dimenções do arquivo devem ser <strong>320x240 (px)</strong> no mínimo.<br>As dimenções fornecidas foram: <strong>"+t.naturalWidth+"x"+t.naturalHeight+" (px)</strong>").show(),$("#preview").hide(),$("#image_file").show(),!1;$(".step2").fadeIn(500),$(".alert-erro").hide();var r,e=bytesToSize(i.size);$("#filesize").val(e),$("#filetype").val(i.type),$("#filedim").val(t.naturalWidth+" x "+t.naturalHeight),void 0!==r&&r.destroy(),$("#preview").Jcrop({minSize:[10,10],aspectRatio:16/9,bgFade:!0,bgOpacity:.5,onChange:updateInfo,onSelect:updateInfo,onRelease:clearInfo},function(){var e=this.getBounds();e[0],e[1],r=this})}},e.readAsDataURL(i)}